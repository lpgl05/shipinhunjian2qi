# 视频混剪智能体黑屏问题完整修复

## 问题描述
从首页点击"视频混剪智能体"卡片后出现黑屏，控制台报错：
```
[Vue warn]: Unhandled error during execution of setup function
[Vue warn]: Unhandled error during execution of component update  
Uncaught (in promise) ReferenceError: computed is not defined
at setup (ChatCanvas.vue:190:29)
```

## 问题分析

### 1. 主要错误
- `computed is not defined` - 在 `ChatCanvas.vue` 中使用了 `computed` 但没有正确导入

### 2. 错误位置
- 文件：`src/views/WorkspacePage/ChatCanvas.vue`
- 行号：190
- 函数：`isSpecialAgentRoute = computed(() => { ... })`

### 3. 错误原因
- 在导入语句中缺少 `computed` 的导入
- 导致运行时错误，组件无法正常渲染

## 修复方案

### 1. 修复 computed 导入
```typescript
// 修复前
import { ref, nextTick, watch, onMounted } from 'vue'

// 修复后
import { ref, nextTick, watch, onMounted, computed } from 'vue'
```

### 2. 验证其他组件
- ✅ `MainCanvas.vue` - computed 导入正确
- ✅ `WorkspaceLayout.vue` - computed 导入正确
- ✅ `VideoEditingCanvas.vue` - 组件结构正常

## 修复步骤

### 步骤1：修复导入语句
在 `src/views/WorkspacePage/ChatCanvas.vue` 第160行添加 `computed` 导入

### 步骤2：验证修复
1. 刷新页面
2. 从首页点击"视频混剪智能体"卡片
3. 检查页面是否正常显示
4. 检查控制台是否还有错误

### 步骤3：测试功能
1. 验证左侧对话区域正常显示
2. 验证右侧视频编辑画布正常显示
3. 验证智能体激活功能正常

## 预期结果

### 修复后应该看到：
1. **页面正常显示**：无黑屏问题
2. **布局正确**：左侧对话区域 + 右侧视频编辑画布
3. **控制台无错误**：无 Vue 警告或 JavaScript 错误
4. **功能正常**：可以正常使用视频混剪智能体

### 页面结构：
```
┌─────────────────────────────────────────────────────────┐
│ 侧边栏 │ 对话区域 (1/3) │ 视频编辑画布 (2/3) │
│        │                │                    │
│        │ - 消息列表      │ - 步骤指示器       │
│        │ - 输入框        │ - 视频编辑界面     │
│        │                │ - 操作按钮         │
└─────────────────────────────────────────────────────────┘
```

## 测试清单

- [ ] 首页点击"视频混剪智能体"卡片
- [ ] 页面正常跳转到 `/workspace?agent=video-mixer`
- [ ] 页面正常显示，无黑屏
- [ ] 左侧对话区域正常显示
- [ ] 右侧视频编辑画布正常显示
- [ ] 控制台无错误信息
- [ ] 智能体激活功能正常

## 相关文件

### 修改的文件：
- `src/views/WorkspacePage/ChatCanvas.vue` - 修复 computed 导入

### 相关文件：
- `src/views/HomePage.vue` - 智能体卡片点击处理
- `src/layouts/WorkspaceLayout.vue` - 工作台布局
- `src/views/WorkspacePage/MainCanvas.vue` - 主画布组件
- `src/views/WorkspacePage/agents/VideoAgent/VideoEditingCanvas.vue` - 视频编辑组件
- `src/store/workspace.ts` - 工作台状态管理
